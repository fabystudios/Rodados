<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Rodados eShop</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f2f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        .test-btn { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .test-btn:hover { background: #0056b3; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Debug - Rodados eShop</h1>
        
        <div class="status info">
            <strong>P√°gina de Debug cargada correctamente</strong><br>
            Hora: <span id="timestamp"></span>
        </div>

        <h3>üìç Informaci√≥n de URL</h3>
        <div class="status info">
            <strong>URL actual:</strong> <span id="current-url"></span><br>
            <strong>Base URL:</strong> <span id="base-url"></span><br>
            <strong>Path:</strong> <span id="path"></span><br>
            <strong>Hash:</strong> <span id="hash"></span>
        </div>

        <h3>üñºÔ∏è Test de Im√°genes</h3>
        <div>
            <img id="logo-test" style="max-width: 100px; margin: 10px;" />
            <div id="image-status" class="status info">Cargando imagen...</div>
        </div>

        <h3>üîó Enlaces de Navegaci√≥n</h3>
        <div>
            <button class="test-btn" onclick="testLink('/#/')">Test Home (/#/)</button>
            <button class="test-btn" onclick="testLink('/#/products')">Test Products</button>
            <button class="test-btn" onclick="testLink('/#/about')">Test About</button>
            <button class="test-btn" onclick="window.location.href='/'">Ir a App Principal</button>
        </div>

        <h3>üìä Informaci√≥n del Sistema</h3>
        <div id="system-info" class="status info">
            <strong>User Agent:</strong> <span id="user-agent"></span><br>
            <strong>Referrer:</strong> <span id="referrer"></span><br>
            <strong>Protocol:</strong> <span id="protocol"></span>
        </div>

        <h3>üìù Console Logs</h3>
        <pre id="console-output">Esperando logs...</pre>
    </div>

    <script>
        // Informaci√≥n b√°sica
        document.getElementById('timestamp').textContent = new Date().toLocaleString();
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('base-url').textContent = window.location.origin;
        document.getElementById('path').textContent = window.location.pathname;
        document.getElementById('hash').textContent = window.location.hash || 'Sin hash';
        document.getElementById('user-agent').textContent = navigator.userAgent;
        document.getElementById('referrer').textContent = document.referrer || 'Ninguno';
        document.getElementById('protocol').textContent = window.location.protocol;

        // Test de imagen
        const logoTest = document.getElementById('logo-test');
        const imageStatus = document.getElementById('image-status');
        
        logoTest.src = '/Rodados/assets/logo-ppal.png';
        logoTest.onload = function() {
            imageStatus.className = 'status success';
            imageStatus.textContent = '‚úÖ Imagen cargada correctamente';
        };
        logoTest.onerror = function() {
            imageStatus.className = 'status error';
            imageStatus.textContent = '‚ùå Error al cargar imagen: /Rodados/assets/logo-ppal.png';
        };

        // Test de navegaci√≥n
        function testLink(hash) {
            console.log('Testing link:', hash);
            window.location.hash = hash;
            updateConsole('Navegando a: ' + hash);
        }

        // Console logging
        const originalConsole = {
            log: console.log,
            error: console.error,
            warn: console.warn
        };

        const consoleOutput = document.getElementById('console-output');
        let logs = [];

        function updateConsole(message) {
            logs.push(new Date().toLocaleTimeString() + ': ' + message);
            consoleOutput.textContent = logs.slice(-10).join('\n');
        }

        console.log = function(...args) {
            originalConsole.log.apply(console, args);
            updateConsole('LOG: ' + args.join(' '));
        };

        console.error = function(...args) {
            originalConsole.error.apply(console, args);
            updateConsole('ERROR: ' + args.join(' '));
        };

        console.warn = function(...args) {
            originalConsole.warn.apply(console, args);
            updateConsole('WARN: ' + args.join(' '));
        };

        // Test inicial
        updateConsole('Debug page initialized');
        
        // Detectar si estamos en GitHub Pages
        if (window.location.hostname === 'fabystudios.github.io') {
            updateConsole('‚úÖ Running on GitHub Pages');
        } else {
            updateConsole('‚ÑπÔ∏è Running locally');
        }
    </script>
</body>
</html>